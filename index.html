<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="utf-8">
    <title>webseq</title>
    <link href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
    <style type="text/css">
      #slider {
        margin: 10px;
        width: 400px;
      }
    </style>
    <script>
       // requestAnim shim layer by Paul Irish

    var bpm = 120,
        notes = {
          'whole': 1,
          'half': 1,
          'quarter': 1,
          'eighth': 1,
          'sixteenth': 1
        },
        count = 0,
        progressTicks = 0,
        endBars = 4,
        endTicks = 16*4*endBars;

    $(document).ready(function(){

      $("#bpm").text(bpm);
      $("#slider").slider({
        'min': 1,
        'max': 200,
        'value': bpm,
        'slide': function(event, ui) {
          bpm = ui.value;
          $("#bpm").text(bpm);
        }
      });

      function draw() {
        count++;
        if (progressTicks == endTicks) {
          progressTicks = 0;
        }
        else {
          progressTicks++;
        }
        $('#progress').text(progressTicks);

        if (notes.sixteenth == 16){
          if (notes.quarter == 4) {
            if (notes.whole == endBars) {
              notes.whole = 1;
            }
            else {
              notes.whole++;
            }
            notes.quarter = 1;
          }
          else {
            notes.quarter++;
          }
          notes.sixteenth = 1;
          notes.eighth = 1;
        }
        else if (notes.sixteenth == 4 || notes.sixteenth == 8 || notes.sixteenth == 12) {
          notes.eighth++;
          notes.sixteenth++;
        }
        else {
          notes.sixteenth++;
        }

        $("#counter").text(notes.whole+":"+notes.quarter+":"+notes.eighth);
      }

      function timer(){
        setTimeout(function(){
          draw();
          timer();
        }, 1000/(16*(bpm/60)));
      }

      timer();


    })


    </script>

  </head>


    <body>
      bpm: <div id="bpm"></div>
      <div id="counter"></div>
      <div id="slider"></div>
      progress: <div id="progress"></div>
    </body>
  </html>â€‹